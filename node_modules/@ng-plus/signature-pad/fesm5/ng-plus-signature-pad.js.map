{
  "version": 3,
  "file": "ng-plus-signature-pad.js",
  "sources": [
    "ng://@ng-plus/signature-pad/projects/signature-pad/src/lib/signature-pad.module.ts",
    "ng://@ng-plus/signature-pad/projects/signature-pad/src/lib/signature-pad.component.ts"
  ],
  "sourcesContent": [
    "import { NgModule } from '@angular/core';\nimport { SignaturePadComponent } from './signature-pad.component';\nimport { CommonModule } from '@angular/common';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [SignaturePadComponent],\n  exports: [SignaturePadComponent]\n})\nexport class SignaturePadModule { }\n",
    "import {AfterViewInit, Component, ElementRef, EventEmitter, Input, OnInit, Output, ViewChild} from \"@angular/core\";\nimport * as SignaturePad from 'signature_pad/dist/signature_pad';\n\n@Component({\n    selector: 'ng-signature-pad',\n    template: `<div class=\"signature-pad\">\r\n    <canvas\r\n        [width]=\"width\"\r\n        [height]=\"height\"\r\n        #canvas></canvas>\r\n    <div class=\"buttons\">\r\n        <button [class]=\"doneButtonClass\" *ngIf=\"showDoneButton\" (click)=\"emitPointsAndBlob()\">{{ doneButtonText }}</button>\r\n        <button [class]=\"clearButtonClass\" *ngIf=\"showClearButton\" (click)=\"clearPad()\">{{ clearButtonText }}</button>\r\n    </div>\r\n</div>\r\n`,\n    styles: [`.signature-pad canvas{background:#f2f2f2}.signature-pad .btn{margin-right:.25em}`]\n})\nexport class SignaturePadComponent implements OnInit, AfterViewInit {\n\n    private signaturePad: SignaturePad;\n    @ViewChild('canvas', {read: ElementRef}) canvasRef: ElementRef;\n\n    @Input() points: any[] = [];\n    @Output() pointsChange = new EventEmitter<any>();\n\n    @Input() editable = true;\n    @Input() emitOnDragEnd = false;\n\n    @Input() penColor = 'black';\n    @Input() backgroundColor = 'transparent';\n\n    @Input() showDoneButton = true;\n    @Input() doneButtonText = 'Done';\n    @Input() doneButtonClass = 'btn btn-primary';\n    @Input() showClearButton = true;\n    @Input() clearButtonText = 'Clear';\n    @Input() clearButtonClass = 'btn btn-default';\n\n    @Input() format: 'blob' | 'base64' | 'json' = 'blob';\n\n    @Input() height = 150;\n    @Input() width = 600;\n\n    @Output() done = new EventEmitter();\n    @Output() cleared = new EventEmitter();\n\n    @Input() responsive = true;\n\n    constructor() {\n    }\n\n    ngOnInit() {\n    }\n\n    ngAfterViewInit() {\n        // Resize Canvas to full screen:\n        if (this.responsive) {\n            window.addEventListener('resize', () => {\n                this.resizeCanvas();\n            });\n            this.resizeCanvas();\n        }\n        this.initPad();\n    }\n\n    initPad() {\n        this.signaturePad = new SignaturePad(this.canvasRef.nativeElement, {\n            penColor: this.penColor,\n            backgroundColor: this.backgroundColor\n        });\n        this.signaturePad.penColor = this.penColor;\n\n        if (this.editable) {\n            this.signaturePad.on();\n        } else {\n            this.signaturePad.off();\n        }\n\n        this.signaturePad.onEnd = () => {\n            this.emitPoints();\n            if (this.emitOnDragEnd) {\n                this.emitBlob();\n            }\n        };\n\n        this.applyPoints();\n        if (this.emitOnDragEnd) {\n            this.emitBlob();\n        }\n    }\n\n    clearPad() {\n        this.signaturePad.clear();\n        this.cleared.emit();\n        this.emitPoints();\n        if (this.emitOnDragEnd) {\n            this.emitBlob();\n        }\n    }\n\n    applyPoints() {\n\n        if (!this.points || !this.signaturePad) { return; }\n\n        this.signaturePad.clear();\n\n        const multiplier = this.canvasRef.nativeElement.offsetWidth / this.width;\n\n        const points = JSON.parse(JSON.stringify(this.points));\n        points.forEach(group => {\n            group.points.forEach(pt => {\n                pt.x = pt.x * multiplier;\n                pt.y = pt.y * multiplier;\n            });\n        });\n        this.signaturePad.fromData(points);\n    }\n\n    emitPoints() {\n        const multiplier = this.canvasRef.nativeElement.offsetWidth / this.width;\n        const points = JSON.parse(JSON.stringify(this.signaturePad.toData()));\n        points.forEach(group => {\n            group.points.forEach(pt => {\n                pt.x = pt.x / multiplier;\n                pt.y = pt.y / multiplier;\n            });\n        });\n        this.pointsChange.emit(points);\n    }\n\n    emitPointsAndBlob() {\n        this.emitPoints();\n        this.emitBlob();\n    }\n\n    emitBlob() {\n\n        switch (this.format) {\n\n            case 'base64':\n                this.done.emit(this.signaturePad.toDataURL());\n                break;\n\n            case 'json':\n                this.done.emit(this.signaturePad.toData());\n                break;\n\n            default:\n                this.canvasRef.nativeElement.toBlob((blob) => {\n                    this.done.emit(blob);\n                });\n                break;\n        }\n\n    }\n\n\n    resizeCanvas() {\n\n        const canvas = this.canvasRef.nativeElement;\n        if (!canvas) { return; }\n\n        const pad = canvas.closest('.signature-pad') as HTMLElement;\n        if (!pad) { return; }\n\n        const w = pad.offsetWidth;\n        const h = pad.offsetWidth / (this.width / this.height);\n\n        canvas.setAttribute('width', `${w}`);\n        canvas.setAttribute('height', `${h}`);\n\n        this.applyPoints();\n\n    }\n\n}\n"
  ],
  "names": [],
  "mappings": "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"
}
